<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>tiwe: TWrapper Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.7.4 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">tiwe</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li id="searchli">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-slots">Protected Slots</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#friends">Friends</a>  </div>
  <div class="headertitle">
<div class="title">TWrapper Class Reference</div>  </div>
</div>
<div class="contents">
<!-- doxytag: class="TWrapper" -->
<p>An abstract wrapper. It is associated to an url and has a schema that can be automatically detected.  
 <a href="class_t_wrapper.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="_t_wrapper_8h_source.html">TWrapper.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for TWrapper:</div>
<div class="dyncontent">
 <div class="center">
  <img src="class_t_wrapper.png" usemap="#TWrapper_map" alt=""/>
  <map id="TWrapper_map" name="TWrapper_map">
<area href="class_t_page_wrapper.html" title="A website page wrapper." alt="TPageWrapper" shape="rect" coords="0,56,97,80"/>
<area href="class_t_site_wrapper.html" title="A website wrapper." alt="TSiteWrapper" shape="rect" coords="107,56,204,80"/>
</map>
 </div></div>

<p><a href="class_t_wrapper-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_wrapper.html#a181bddba3a891af388578db397482671">TWrapper</a> (<a class="el" href="class_t_engine.html">TEngine</a> *engine)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8f6e45adc4c73f5d14a4887133b313e5"></a><!-- doxytag: member="TWrapper::engine" ref="a8f6e45adc4c73f5d14a4887133b313e5" args="()" -->
<a class="el" href="class_t_engine.html">TEngine</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>engine</b> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_wrapper.html#a2cd7faf0449a8c0c36d0cfdc6f657d9f">setUrl</a> (QString url)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">QString&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_wrapper.html#a4a4e766f7e5253cb072f1dd3de4a45b5">url</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_wrapper.html#a87cc442281d40a7baa163ab5c0e1d1c7">setSchemasDirectory</a> (const QString &amp;directoryPath)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">QString&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_wrapper.html#a5285a9548d3216f446ee30c06c7f4289">schemasDirectory</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_t_action.html">TAction</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_wrapper.html#a77554ef7065dcdafcbe1e5f4989a0a19">setSchema</a> (const QString &amp;schemaName)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_t_action.html">TAction</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_wrapper.html#aeff71e9145a9ce5a1618514b24ec3da5">detectSchema</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa46401970ed39fb1bde7192b11661213"></a><!-- doxytag: member="TWrapper::schema" ref="aa46401970ed39fb1bde7192b11661213" args="()" -->
<a class="el" href="class_t_schema.html">TSchema</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>schema</b> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual QString&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_wrapper.html#ac11931729b719611248550276692907e">schemaFileName</a> (const QString &amp;schemaName)=0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">QString&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_wrapper.html#a43e66e915624b37deba7e3ba5646a9a0">data</a> (QString name)</td></tr>
<tr><td colspan="2"><h2><a name="pro-slots"></a>
Protected Slots</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_wrapper.html#adb04e517ec0a4a39489a20587f43eba8">finalizeSchema</a> (<a class="el" href="class_t_action.html">TAction</a> *action)</td></tr>
<tr><td colspan="2"><h2><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual QList&lt; QString &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_wrapper.html#a362e4c155ad2b0608a7add7a8c29afa9">schemaCandidateNames</a> ()=0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual QString&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_wrapper.html#a8088585e4043a10c16fa8e61757b358d">parseParametricVariable</a> (const QString &amp;variable)=0</td></tr>
<tr><td colspan="2"><h2><a name="friends"></a>
Friends</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ade51f2d344d7fc07be9578d1e9e2549c"></a><!-- doxytag: member="TWrapper::TWrapperPrivate" ref="ade51f2d344d7fc07be9578d1e9e2549c" args="" -->
class&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_wrapper.html#ade51f2d344d7fc07be9578d1e9e2549c">TWrapperPrivate</a></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>An abstract wrapper. It is associated to an url and has a schema that can be automatically detected. </p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="class_t_wrapper.html#a2cd7faf0449a8c0c36d0cfdc6f657d9f">setUrl</a> </dd>
<dd>
<a class="el" href="class_t_wrapper.html#a77554ef7065dcdafcbe1e5f4989a0a19">setSchema</a> </dd>
<dd>
<a class="el" href="class_t_wrapper.html#aeff71e9145a9ce5a1618514b24ec3da5">detectSchema</a> </dd></dl>
</div><hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a181bddba3a891af388578db397482671"></a><!-- doxytag: member="TWrapper::TWrapper" ref="a181bddba3a891af388578db397482671" args="(TEngine *engine)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TWrapper::TWrapper </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_t_engine.html">TEngine</a> *&#160;</td>
          <td class="paramname"><em>engine</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl class="warning"><dt><b>Warning:</b></dt><dd>Passing a null value for the engine parameter leads to undefined behavior </dd></dl>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a43e66e915624b37deba7e3ba5646a9a0"></a><!-- doxytag: member="TWrapper::data" ref="a43e66e915624b37deba7e3ba5646a9a0" args="(QString name)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">QString TWrapper::data </td>
          <td>(</td>
          <td class="paramtype">QString&#160;</td>
          <td class="paramname"><em>name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Examine the schema and return the data value (that it's NOT saved in a list for memory saving purpose) </p>
<dl class="warning"><dt><b>Warning:</b></dt><dd>Requesting a data without a valid schema leads to undefined behavior. </dd></dl>

</div>
</div>
<a class="anchor" id="aeff71e9145a9ce5a1618514b24ec3da5"></a><!-- doxytag: member="TWrapper::detectSchema" ref="aeff71e9145a9ce5a1618514b24ec3da5" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_t_action.html">TAction</a> * TWrapper::detectSchema </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Automatically detect a valid schema for this wrapper by checking all the schema names returned by the <a class="el" href="class_t_wrapper.html#a362e4c155ad2b0608a7add7a8c29afa9">schemaCandidateNames()</a> method. </p>
<dl class="warning"><dt><b>Warning:</b></dt><dd>Calling this method if there is already another detect running has no effect. </dd></dl>

</div>
</div>
<a class="anchor" id="adb04e517ec0a4a39489a20587f43eba8"></a><!-- doxytag: member="TWrapper::finalizeSchema" ref="adb04e517ec0a4a39489a20587f43eba8" args="(TAction *action)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TWrapper::finalizeSchema </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_t_action.html">TAction</a> *&#160;</td>
          <td class="paramname"><em>action</em></td><td>)</td>
          <td><code> [protected, slot]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Called when a new schema has been checked. If the schema match the wrapper (status==StatusSuccess) then it's choosen as the "official" wrapper schema, otherwise it's deleted to avoid memory leaks</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">action</td><td>is of type <a class="el" href="class_t_action.html" title="Implements the command-pattern design technique for asynchronous operations. NOTE: The action is disp...">TAction</a> to hide the real (and private) subclass from the public interface. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a8088585e4043a10c16fa8e61757b358d"></a><!-- doxytag: member="TWrapper::parseParametricVariable" ref="a8088585e4043a10c16fa8e61757b358d" args="(const QString &amp;variable)=0" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual QString TWrapper::parseParametricVariable </td>
          <td>(</td>
          <td class="paramtype">const QString &amp;&#160;</td>
          <td class="paramname"><em>variable</em></td><td>)</td>
          <td><code> [protected, pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The method is pure virtual because the parametric variables refer to wrapper-type dependent information. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>the variable correctly evaluated (e.g. the data value) </dd></dl>

<p>Implemented in <a class="el" href="class_t_page_wrapper.html#a85957e5ec8f7c83048cfb6775338afe5">TPageWrapper</a>, and <a class="el" href="class_t_site_wrapper.html#a5251837019a5c0e3633092897d557e61">TSiteWrapper</a>.</p>

</div>
</div>
<a class="anchor" id="a362e4c155ad2b0608a7add7a8c29afa9"></a><!-- doxytag: member="TWrapper::schemaCandidateNames" ref="a362e4c155ad2b0608a7add7a8c29afa9" args="()=0" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual QList&lt;QString&gt; TWrapper::schemaCandidateNames </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [protected, pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Return a list containing the names of the schemas that must be checked by the <a class="el" href="class_t_wrapper.html#aeff71e9145a9ce5a1618514b24ec3da5">detectSchema()</a> method. </p>

<p>Implemented in <a class="el" href="class_t_page_wrapper.html#ade12eb79c36ed62db293ad46ba421d02">TPageWrapper</a>, and <a class="el" href="class_t_site_wrapper.html#ab6da41407e1dda1144f42767ec7d9c48">TSiteWrapper</a>.</p>

</div>
</div>
<a class="anchor" id="ac11931729b719611248550276692907e"></a><!-- doxytag: member="TWrapper::schemaFileName" ref="ac11931729b719611248550276692907e" args="(const QString &amp;schemaName)=0" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual QString TWrapper::schemaFileName </td>
          <td>(</td>
          <td class="paramtype">const QString &amp;&#160;</td>
          <td class="paramname"><em>schemaName</em></td><td>)</td>
          <td><code> [pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Given a schema name, return the filename of the schema. If the schema name is not valid, return an empty string. </p>

<p>Implemented in <a class="el" href="class_t_page_wrapper.html#a3ece489821252ff1091cc01a7163e71f">TPageWrapper</a>, and <a class="el" href="class_t_site_wrapper.html#a4761519929d8cfbe264b9c3725c7f50c">TSiteWrapper</a>.</p>

</div>
</div>
<a class="anchor" id="a5285a9548d3216f446ee30c06c7f4289"></a><!-- doxytag: member="TWrapper::schemasDirectory" ref="a5285a9548d3216f446ee30c06c7f4289" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">QString TWrapper::schemasDirectory </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl class="return"><dt><b>Returns:</b></dt><dd>, if not null, the directory setted by the <a class="el" href="class_t_wrapper.html#a87cc442281d40a7baa163ab5c0e1d1c7">setSchemasDirectory()</a> or, otherwise, the engine schemas directory </dd></dl>

</div>
</div>
<a class="anchor" id="a77554ef7065dcdafcbe1e5f4989a0a19"></a><!-- doxytag: member="TWrapper::setSchema" ref="a77554ef7065dcdafcbe1e5f4989a0a19" args="(const QString &amp;schemaName)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_t_action.html">TAction</a> * TWrapper::setSchema </td>
          <td>(</td>
          <td class="paramtype">const QString &amp;&#160;</td>
          <td class="paramname"><em>schemaName</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Set the wrapper schema specifying its name (e.g. phpbb3). The library will in turn locate the file. This is the only method the user can use to 'directly' set the wrapper schema, this allow to set only schemas that are in the wrapper schemas folder.</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>a <a class="el" href="class_t_action.html" title="Implements the command-pattern design technique for asynchronous operations. NOTE: The action is disp...">TAction</a> whose actionTarget is the new created <a class="el" href="class_t_schema.html" title="The schema of a TWrapper.">TSchema</a>. </dd></dl>

</div>
</div>
<a class="anchor" id="a87cc442281d40a7baa163ab5c0e1d1c7"></a><!-- doxytag: member="TWrapper::setSchemasDirectory" ref="a87cc442281d40a7baa163ab5c0e1d1c7" args="(const QString &amp;directoryPath)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TWrapper::setSchemasDirectory </td>
          <td>(</td>
          <td class="paramtype">const QString &amp;&#160;</td>
          <td class="paramname"><em>directoryPath</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Set the directory where are located all the wrapper schemas. Overwrite the directory setted in the <a class="el" href="class_t_engine.html" title="The main class.">TEngine</a>. Note: the final / is removed </p>

</div>
</div>
<a class="anchor" id="a2cd7faf0449a8c0c36d0cfdc6f657d9f"></a><!-- doxytag: member="TWrapper::setUrl" ref="a2cd7faf0449a8c0c36d0cfdc6f657d9f" args="(QString url)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TWrapper::setUrl </td>
          <td>(</td>
          <td class="paramtype">QString&#160;</td>
          <td class="paramname"><em>url</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Set the wrapper target url </p>
<dl class="warning"><dt><b>Warning:</b></dt><dd>The current schema might become invalid, immediately call <a class="el" href="class_t_wrapper.html#aeff71e9145a9ce5a1618514b24ec3da5">detectSchema()</a> or <a class="el" href="class_t_wrapper.html#a77554ef7065dcdafcbe1e5f4989a0a19">setSchema()</a> if you are not sure or if you are setting the wrapper url for the first time. </dd></dl>

</div>
</div>
<a class="anchor" id="a4a4e766f7e5253cb072f1dd3de4a45b5"></a><!-- doxytag: member="TWrapper::url" ref="a4a4e766f7e5253cb072f1dd3de4a45b5" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">QString TWrapper::url </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Return the wrapper target url </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="_t_wrapper_8h_source.html">TWrapper.h</a></li>
<li>TWrapper.cpp</li>
</ul>
</div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Enumerator</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr class="footer"/><address class="footer"><small>Generated on Sun Nov 13 2011 20:05:42 for tiwe by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.4 </small></address>
</body>
</html>
